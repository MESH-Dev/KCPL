jQuery(document).ready(function(a){function b(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(-1!=e.indexOf(b))return e.substring(b.length,e.length)}return""}function c(a,b){document.cookie=a+"="+b+";"}a("#header-search").click(function(){a("#KCPL_header-search").toggleClass("active"),a("#KCPL_header-search").hasClass("active")?a('#KCPL_header-search input[name="s"]').focus():a('#KCPL_header-search input[name="s"]').blur()}),a(document).on("click","#KCPL_search #search-params .bottom > a",function(){$class=a(this).attr("class"),a("#KCPL_search #search-params .bottom > a").removeClass("active"),a(this).addClass("active"),a("#KCPL_search #select").removeClass().addClass($class)});var d=window.location.pathname;d.toLowerCase().indexOf("/books/")>=0&&a("#lm").attr("value","PRINTONLY"),d.toLowerCase().indexOf("/audiobooks/")>=0&&a("#lm").attr("value","AUDIOONLY"),d.toLowerCase().indexOf("/music/")>=0&&a("#lm").attr("value","MUSICONLY"),d.toLowerCase().indexOf("/music/")>=0&&a("#lm").attr("value","MUSICONLY"),d.toLowerCase().indexOf("/ebooks/")>=0&&a("#lm").attr("value","EBOOKSONLY"),d.toLowerCase().indexOf("/kids/")>=0&&a("#lm").attr("value","CHILDMAT"),d.toLowerCase().indexOf("/teens/")>=0&&a("#lm").attr("value","YAMAT"),a(".paginate").hide(),a(".p-1").show(),a(".page-numbers-container").append('<a class="previous"><i class="fa fa-angle-double-left"></i></a>');for(var e=1;e<=a(".paginate").length;e++)a(".page-numbers-container").append("<a class='page-numbers'>"+e+"</a>");a(".page-numbers-container").append('<a class="next"><i class="fa fa-angle-double-right"></i></a>'),a(".page-numbers:eq(0)").addClass("current"),a(".page-numbers").click(function(){var b=a(this),c=a(".current");a(".p-"+c.html()).fadeOut("slow",function(){}),a(".p-"+b.html()).delay(800).fadeIn("slow",function(){}),c.removeClass("current"),a(this).addClass("current")}),a(".next").click(function(){if(a(".current").next(".page-numbers").length>0){var b=a(".current").next(".page-numbers"),c=a(".current");a(".p-"+c.html()).fadeOut("slow",function(){}),a(".p-"+b.html()).delay(800).fadeIn("slow",function(){}),c.removeClass("current"),b.addClass("current")}}),a(".previous").click(function(){if(a(".current").prev(".page-numbers").length>0){var b=a(".current").prev(".page-numbers"),c=a(".current");a(".p-"+c.html()).fadeOut("slow",function(){}),a(".p-"+b.html()).delay(800).fadeIn("slow",function(){}),c.removeClass("current"),b.addClass("current")}}),a(".KCPL_home-engagement .single-row").click(function(){$index=a(".KCPL_home-engagement .single-row").index(this),a(this).siblings().addClass("active"),a(".KCPL_home-engagement #row-expanded .engage-content").not(":eq("+$index+")").removeClass("active"),a(".KCPL_home-engagement #row-expanded .engage-content").eq($index).addClass("active")}),a(".KCPL_home-engagement .close").click(function(){a(".KCPL_home-engagement #row-expanded").removeClass("active")}),a("#showProfile-cont.edit #showProfile-ava #avat").click(function(){a("#avat, #kcpl_oc-avatar").toggleClass("active")}),a(document).on("touchstart","#mobileMenuTrigger:not(.active), #contentWrap.active",function(b){b.preventDefault(),a("#mobileWrap,#contentWrap,#mobileMenuTrigger").toggleClass("active")}),a("#mobileWrap ul#main_nav > li.menu-item-has-children").each(function(){a(this).append('<i class="drop fa fa-lg fa-caret-down"></i>')}),a(document).on("touchstart","#mobileWrap ul#main_nav > li > i.drop",function(b){b.preventDefault(),a(this).hasClass("active")?(a(this).removeClass("active"),a(this).parent().removeClass("active")):(a("#mobileWrap.active i.drop").removeClass("active"),a("#mobileWrap.active i.drop").parent().removeClass("active"),a(this).addClass("active"),a(this).parent().addClass("active"))}),a(document).on("touchstart","#mobileSearchTrigger",function(b){b.preventDefault(),a("#KCPL_header-search").toggleClass("active"),a("#KCPL_header-search").hasClass("active")?a('#KCPL_header-search input[name="s"]').focus():a('#KCPL_header-search input[name="s"]').blur()}),c("kcplID","1234"),c("ezproxy","success"),c("kcplAuth","success");b("kcplID"),b("ezproxy")});